(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7885:function(e,t,s){Promise.resolve().then(s.bind(s,9507))},9507:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return page}});var l=s(7437),a=s(2265),n=s(724);function ContainerSketelon(){return(0,l.jsx)(n.y,{borderRadius:2,children:(0,l.jsxs)("div",{className:"w-[90%] mt-20 bg-stone-50 border border-stone-200 sm:w-[80%] xl:w-[60%] mx-auto p-5 rounded",children:[(0,l.jsx)(n.Z,{height:55}),(0,l.jsx)(n.Z,{className:"mt-8",width:55,height:25,borderRadius:0}),(0,l.jsx)(n.Z,{className:"mt-5",height:35}),(0,l.jsx)(n.Z,{width:35,className:"mt-2",height:25}),(0,l.jsx)(n.Z,{className:"mt-2",height:35}),(0,l.jsx)(n.Z,{width:100,className:"mt-5",height:25,borderRadius:0}),(0,l.jsx)(n.Z,{className:"mt-5",height:35})]})})}s(9095);var i=s(1396),r=s.n(i);function Student(e){let{Student:{course:t,name:s,university:a}}=e;return(0,l.jsx)(r(),{href:"/student?name=".concat(s.toUpperCase()),className:"",children:(0,l.jsxs)("div",{className:"hover:bg-stone-800 p-5 my-5  rounded hover:text-stone-50 transition-all duration-300",children:[(0,l.jsx)("h1",{className:" text-md sm:text-xl font-semibold tracking-widest capitalize",children:s}),(0,l.jsx)("h2",{className:" text-sm sm:text-md  capitalize font-semibold tracking-widest",children:a}),(0,l.jsx)("p",{className:" text-xs sm:text-sm mt-2",children:t})]})})}function StudentSkeleton(){let[e,t]=(0,a.useState)();return(0,a.useEffect)(()=>{t([,,,].fill(0))},[]),(0,l.jsx)(n.y,{borderRadius:2,children:null==e?void 0:e.map((e,t)=>(0,l.jsxs)("div",{className:"w-full p-5",children:[(0,l.jsx)(n.Z,{height:40}),(0,l.jsx)(n.Z,{height:20,className:"mt-2"}),(0,l.jsx)(n.Z,{height:25,className:"mt-3"})]},t))})}var o=s(9222),u=s(2403),d=s(4297),c=s(3808);function page(){let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)(null),[i,r]=(0,a.useState)(null),[m,h]=(0,a.useState)(null),[x,v]=(0,a.useState)(null),[f,p]=(0,a.useState)(void 0),[j,g]=(0,a.useState)(void 0),[N,w]=(0,a.useState)(!0),[b,S]=(0,a.useState)(!0),[y,Z]=(0,a.useState)(!1),HandleUniversity=async e=>{S(!0),p(null==e?void 0:e.value),(null==e?void 0:e.value)&&j?v(null==s?void 0:s.filter(t=>t.university===e.value&&t.course===j)):(null==e?void 0:e.value)?v(null==s?void 0:s.filter(t=>t.university===e.value)):j?v(null==s?void 0:s.filter(e=>e.course===j)):v(s),await new Promise(e=>setTimeout(()=>{S(!1),e("")},1e3))},HandleCourse=async e=>{S(!0),g(null==e?void 0:e.value),(null==e?void 0:e.value)&&f?v(null==s?void 0:s.filter(t=>t.course===e.value&&t.university===f)):(null==e?void 0:e.value)?v(null==s?void 0:s.filter(t=>t.course===e.value)):f?v(null==s?void 0:s.filter(e=>e.university===f)):v(s),await new Promise(e=>setTimeout(()=>{S(!1),e("")},1e3))},HandleSearch=async e=>{if(S(!0),e.target.value.length>0){if(j||f){let t=new u.Z(x,{keys:["name"]});v(t.search(e.target.value).map(e=>e.item))}else{let t=new u.Z(s,{keys:["name"]});v(t.search(e.target.value).map(e=>e.item))}}else HandleUniversity(void 0),HandleCourse(void 0);await new Promise(e=>setTimeout(()=>{S(!1),e("")},1e3))};return(0,a.useEffect)(()=>{S(!0),w(!0),async function(){await new Promise(async e=>setTimeout(()=>{e("")},1e3));let{data:{universities:e}}=await o.Z.get("api/universities");r(e);let{data:{courses:t}}=await o.Z.get("api/courses");h(t);let{data:{data:s}}=await o.Z.get("api/data");n(s),w(!1),S(!1)}()},[]),(0,l.jsxs)("main",{className:"w-full mx-auto",children:[N?(0,l.jsx)(ContainerSketelon,{}):(0,l.jsxs)("div",{className:"w-[90%] sm:w-[80%] xl:w-[60%] mt-20 mx-auto p-5 rounded border bg-stone-50 text-stone-800",children:[(0,l.jsx)("h1",{className:"text-3xl leading-[40px] font-semibold ",children:"Mahinda Rajapaksha College Government University Degree Holders Chart."}),(0,l.jsxs)("div",{className:"mt-10 w-full",children:[(0,l.jsx)("h2",{className:"text-slate-500 font-semibold underline",children:"Sort By"}),(0,l.jsx)("div",{className:"w-full flex items-center mt-5",children:(0,l.jsx)(d.ZP,{className:"flex-1",placeholder:"University Name",id:"uni-select",options:null==i?void 0:i.map(e=>({value:e.university,label:e.university})),isClearable:!0,onChange:HandleUniversity})}),(0,l.jsx)("p",{className:"text-slate-500 font-semibold",children:"or"}),(0,l.jsx)("div",{className:"w-full flex items-center",children:(0,l.jsx)(d.ZP,{className:"flex-1",placeholder:"University Degree Program",id:"course-select",options:null==m?void 0:m.map(e=>({value:e.course,label:e.course})),isClearable:!0,onChange:HandleCourse})}),(0,l.jsx)("p",{className:"text-slate-500 font-semibold mt-2",children:"or using ur name"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{autoComplete:"off",onChange:HandleSearch,type:"text",placeholder:"Your Name",className:"w-full pr-14 p-2 border mt-3 border-stone-300 rounded placeholder:text-stone-500 focus-within:outline-blue-500 transition duration-300"}),e&&(0,l.jsx)(c.Z,{color:"#78716C",size:5,className:"absolute translate-y-1/3 right-0 pr-3 top-[25%]"})]})]})]}),(0,l.jsxs)("div",{className:"w-[90%] sm:w-[80%] xl:w-[60%] mx-auto mt-20",children:[b&&(0,l.jsx)(StudentSkeleton,{}),null==x?void 0:x.map((e,t)=>(0,l.jsx)(Student,{Student:e},t)),null===x&&!b&&(0,l.jsx)("p",{className:"text-center tracking-wider text-stone-500 font-light text-sm",children:"Search Students"}),(null==x?void 0:x.length)===0&&(0,l.jsx)("p",{className:"text-center underline text-stone-500 font-light text-sm",children:"0 results found"})]}),!b&&x&&(null==x?void 0:x.length)>5&&(0,l.jsx)("footer",{className:"w-full p-5  bg-stone-800 flex items-center justify-center",children:(0,l.jsx)("p",{className:"font-semibold text-stone-200 tracking-wider",children:"Nipuna Nishan | Thiwanka Sandakalum"})})]})}}},function(e){e.O(0,[582,642,971,472,744],function(){return e(e.s=7885)}),_N_E=e.O()}]);